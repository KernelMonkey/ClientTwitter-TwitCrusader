# Maintainer: Patryk Rzucidlo (@PTKDev) <ptkdev@gmail.com>
# Contributor: Orazio Briante (@KernelMonkey) <orazio.1985@hotmail.com>
# Contributor: Alessio Biancalana (@dottorblaster) <dottorblaster@archlinux.us>

# SUPPORT:
# Follow on Twitter: @teamtwc / @PTKDev / @KernelMonkey / @dottorblaster
# IRC: chat.freenode.net at #teamtwc
# E-mail: teamtwc@twitcrusader.org


pkgname=twitcrusader-git
pkgver=20121222
pkgrel=1
pkgdesc="A Twitter client for Linux (Nightly Release)"
arch=('i686' 'x86_64')
url="http://www.twitcrusader.org"
license=('GPL')
depends=('gtk3' 'curl' 'liboauth' 'libxml2' 'libnotify' 'json-c')
makedepends=('git' 'intltool' 'pkg-config' 'gcc' 'autoconf' 'xdg-utils')
provides=('twitcrusader')
conflicts=('twitcrusader')

_gitroot="git://github.com/PTKDev/ClientTwitter-TwitCrusader.git"
_gitname="twitcrusader"
_gitcommit="cc5b3cd9391770602826cd6cd40ccf1444c7c88c"
_gitbranch="nightly"

build() {
  cd "${srcdir}"
  
  if [ -d $_gitname ] ; then
    cd $_gitname && git checkout $_gitbranch && git pull
    msg "The local files are updated."
  else
    git clone --recursive $_gitroot $_gitname && cd $_gitname
  fi
  
  git checkout $_gitcommit
  
  sh autogen.sh
  ./configure --prefix=/usr
  make
}
 
package() {
  cd "${srcdir}/${_gitname}"
  make DESTDIR="${pkgdir}" install
}
